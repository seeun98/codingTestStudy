## [프로그래머스] 특정 기간동안 대여 가능한 자동차들의 대여비용 구하기
https://school.programmers.co.kr/learn/courses/30/lessons/157339

### SOLUTION
```SQL
-- 코드를 입력하세요
SELECT T1.CAR_ID, T1.CAR_TYPE, (T1.DAILY_FEE * 30)*(1-0.01*P.DISCOUNT_RATE) AS "FEE"
FROM (SELECT CAR_ID, CAR_TYPE, DAILY_FEE 
FROM CAR_RENTAL_COMPANY_CAR
WHERE CAR_ID NOT IN (SELECT CAR_ID FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY 
                     WHERE to_char(start_date, 'yyyy-mm-dd') <= '2022-11-30' and to_char(end_date, 'yyyy-mm-dd') >= '2022-11-01') AND CAR_TYPE IN ('세단', 'SUV')) T1, CAR_RENTAL_COMPANY_DISCOUNT_PLAN P
WHERE T1.CAR_TYPE = P.CAR_TYPE AND P.DURATION_TYPE LIKE '%30%'
AND ((T1.DAILY_FEE * 30)*(1-0.01*P.DISCOUNT_RATE)) BETWEEN 500000 AND 2000000
ORDER BY FEE DESC, T1.CAR_TYPE ASC, T1.CAR_ID DESC
```

### 참고
- 2022-11-01 ~ 2022-11-30 사이에 대여가능한 :: WHERE to_char(start_date, 'yyyy-mm-dd') <= '2022-11-30' and to_char(end_date, 'yyyy-mm-dd') >= '2022-11-01'